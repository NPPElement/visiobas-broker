{"changed":true,"filter":false,"title":"mysql.php","tooltip":"/lib/mysql.php","value":"<?php\r\n\r\n\r\n\r\nglobal $db_link;\r\nif(!$db_link=mysqli_connect(\"172.16.16.60\", \"maxuser\", \"maxpwd\", \"vbas\", \"4006\")) die(\"!connect\");\r\nglobal $ENUMS;\r\n$ENUMS = [\r\n    \"Object_Types\"=>['analog-input','analog-output','analog-value','binary-input','binary-output','binary-value','calendar','command','device','event-enrollment','file','group','loop','multi-state-input','multi-state-output','notification-class','program','schedule','averaging','multi-state-value','trend-log','life-safety-point','life-safety-zone','accumulator','pulse-converter','event-log','global-group','trend-log-multiple','load-control','structured-view','access-door','access-credential','access-point','access-rights','access-user','access-zone','credential-data-input','network-security','bitstring-value','characterstring-value','date-pattern-value','date-value','datetime-pattern-value','datetime-value','integer-value','large-analog-value','octetstring-value','positive-integer-value','time-pattern-value','time-value','notification-forwarder','alert-enrollment','channel','lighting-output','folder','site','trunk','graphic']\r\n];\r\n\r\nquery(\"SET NAMES 'utf8'\");\r\nquery(\"SET CHARACTER SET utf8\");\r\nquery(\"SET CHARACTER_SET_CONNECTION=utf8\");\r\n\r\n\r\n\r\nfunction query($sql) {\r\n    global $db_link;\r\n    echo $sql.\"\\n\";\r\n    $r =  mysqli_query($db_link, $sql);\r\n    if(mysqli_errno($db_link)) {\r\n        echo $sql.\"\\n\";\r\n        echo  mysqli_error($db_link).\"\\n\";\r\n    }\r\n    return $r;\r\n}\r\n\r\n\r\nfunction select($sql) {\r\n    $result = array();\r\n    $r = query($sql);\r\n    if($r) {\r\n        while ($row=mysqli_fetch_assoc($r)) {\r\n            if(isset($row[\"id\"])) $result[$row[\"id\"]] = $row;\r\n            else $result[] = $row;\r\n        }\r\n        mysqli_free_result($r);\r\n    }\r\n\r\n    return $result;\r\n}\r\n","undoManager":{"mark":-2,"position":23,"stack":[[{"start":{"row":5,"column":42},"end":{"row":5,"column":46},"action":"remove","lines":["root"],"id":2},{"start":{"row":5,"column":42},"end":{"row":5,"column":43},"action":"insert","lines":["m"]}],[{"start":{"row":5,"column":43},"end":{"row":5,"column":44},"action":"insert","lines":["a"],"id":3}],[{"start":{"row":5,"column":44},"end":{"row":5,"column":45},"action":"insert","lines":["x"],"id":4}],[{"start":{"row":5,"column":45},"end":{"row":5,"column":46},"action":"insert","lines":["u"],"id":5}],[{"start":{"row":5,"column":46},"end":{"row":5,"column":47},"action":"insert","lines":["s"],"id":6}],[{"start":{"row":5,"column":47},"end":{"row":5,"column":48},"action":"insert","lines":["e"],"id":7}],[{"start":{"row":5,"column":48},"end":{"row":5,"column":49},"action":"insert","lines":["r"],"id":8}],[{"start":{"row":5,"column":53},"end":{"row":5,"column":58},"action":"remove","lines":["77877"],"id":9},{"start":{"row":5,"column":53},"end":{"row":5,"column":54},"action":"insert","lines":["p"]}],[{"start":{"row":5,"column":54},"end":{"row":5,"column":55},"action":"insert","lines":["a"],"id":10}],[{"start":{"row":5,"column":55},"end":{"row":5,"column":56},"action":"insert","lines":["x"],"id":11}],[{"start":{"row":5,"column":56},"end":{"row":5,"column":57},"action":"insert","lines":["p"],"id":12}],[{"start":{"row":5,"column":57},"end":{"row":5,"column":58},"action":"insert","lines":["w"],"id":13}],[{"start":{"row":5,"column":58},"end":{"row":5,"column":59},"action":"insert","lines":["s"],"id":14}],[{"start":{"row":5,"column":58},"end":{"row":5,"column":59},"action":"remove","lines":["s"],"id":15}],[{"start":{"row":5,"column":58},"end":{"row":5,"column":59},"action":"insert","lines":["d"],"id":16}],[{"start":{"row":5,"column":29},"end":{"row":5,"column":38},"action":"remove","lines":["localhost"],"id":17},{"start":{"row":5,"column":29},"end":{"row":5,"column":50},"action":"insert","lines":["http://visiodesk.net/"]}],[{"start":{"row":5,"column":49},"end":{"row":5,"column":50},"action":"remove","lines":["/"],"id":18}],[{"start":{"row":5,"column":29},"end":{"row":5,"column":36},"action":"remove","lines":["http://"],"id":19}],[{"start":{"row":5,"column":42},"end":{"row":5,"column":43},"action":"insert","lines":[":"],"id":20}],[{"start":{"row":5,"column":43},"end":{"row":5,"column":44},"action":"insert","lines":["4"],"id":21}],[{"start":{"row":5,"column":44},"end":{"row":5,"column":45},"action":"insert","lines":["0"],"id":22}],[{"start":{"row":5,"column":45},"end":{"row":5,"column":46},"action":"insert","lines":["0"],"id":23}],[{"start":{"row":5,"column":46},"end":{"row":5,"column":47},"action":"insert","lines":["6"],"id":24}],[{"start":{"row":5,"column":29},"end":{"row":5,"column":38},"action":"remove","lines":["visiodesk"],"id":25},{"start":{"row":5,"column":29},"end":{"row":5,"column":32},"action":"insert","lines":["172"]},{"start":{"row":5,"column":33},"end":{"row":5,"column":40},"action":"remove","lines":["net:400"]},{"start":{"row":5,"column":33},"end":{"row":5,"column":39},"action":"insert","lines":["16.16."]},{"start":{"row":5,"column":40},"end":{"row":5,"column":41},"action":"insert","lines":["0"]},{"start":{"row":5,"column":56},"end":{"row":5,"column":57},"action":"remove","lines":["p"]},{"start":{"row":5,"column":56},"end":{"row":5,"column":57},"action":"insert","lines":["m"]},{"start":{"row":5,"column":74},"end":{"row":5,"column":76},"action":"remove","lines":["33"]},{"start":{"row":5,"column":74},"end":{"row":5,"column":75},"action":"insert","lines":["4"]},{"start":{"row":5,"column":76},"end":{"row":5,"column":77},"action":"remove","lines":["7"]},{"start":{"row":5,"column":76},"end":{"row":5,"column":78},"action":"insert","lines":["06"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":5,"column":41},"end":{"row":5,"column":41},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1613475670573}